var app=angular.module("ReaderApp",["ngRoute"]);app.config(["$routeProvider",function(a){a.when("/books",{controller:"BookshelfController",templateUrl:"views/bookshelf.html"}).when("/books/:bookId",{controller:"BookController",templateUrl:"views/book.html"}).when("/books/:bookId/chapters/:chapterId",{controller:"ChapterController",templateUrl:"views/chapter.html"}).otherwise({redirectTo:"/books"})}]),angular.module("ReaderApp").controller("BookController",["$scope","$routeParams","books",function(a,b,c){c.success(function(c){a.book=c[b.bookId]}),a.currentBookIndex=parseInt(b.bookId)}]),angular.module("ReaderApp").controller("BookshelfController",["$scope","books",function(a,b){b.success(function(b){a.myBooks=b})}]),angular.module("ReaderApp").controller("ChapterController",["$scope","books","$routeParams",function(a,b,c){b.success(function(b){a.book=b[c.bookId],a.chapter=a.book.chapters[c.chapterId],c.chapterId>=a.book.chapters.length-1&&(a.nextChapterIndex="#")}),a.currentBookIndex=parseInt(c.bookId),a.currentChapterIndex=parseInt(c.chapterId),a.nextChapterIndex=a.currentChapterIndex+1}]),app.factory("books",["$http",function(a){return a.get("https://s3.amazonaws.com/codecademy-content/courses/ltp4/books-api/books.json").success(function(a){return a}).error(function(a){return a})}]),angular.module("ReaderApp").run(["$templateCache",function(a){"use strict";a.put("views/book.html",'<a class="button back" href="#/books">Back</a> <div class="book-detail"> <img ng-src="{{book.cover}}"> <h3 class="title">{{book.title}}</h3> <p class="author">{{book.author}}</p> <p class="description">{{book.description}}</p> <a class="button" href="#/books/{{currentBookIndex}}/chapters/0">Read</a> </div>'),a.put("views/bookshelf.html",'<div class="bookshelf row" ng-repeat="book in myBooks"> <div class="book col-md-3"> <a href="#/books/{{$index}}"> <img ng-src="{{book.cover}}"> <h3 class="title">{{book.title}}</h3> <p class="author">{{book.author}}</p> </a> </div> </div>'),a.put("views/chapter.html",'<a class="button back" href="#/books/{{currentBook}}">Back</a> <div class="chapter"> <p><span class="title">{{book.title}}</span><span class="author">{{book.author}}</span></p> <h2 class="chapter-title">{{chapter.title}}</h2> <div class="paragraph" ng-repeat="paragraph in chapter.paragraphs"> <p>{{paragraph}}</p> </div> <a class="button next" href="#/books/{{currentBookIndex}}/chapters/{{nextChapterIndex}}">Next</a> </div>')}]);